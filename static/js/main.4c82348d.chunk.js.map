{"version":3,"sources":["component/breathFirst.js","component/table.js","App.js","index.js","component/tablecss.module.css"],"names":["breathFrist","tab","Promise","resolve","reject","queue","visited","visitedPrev","push","row","col","length","shift","neighbors","i","nRow","nCol","key","includes","state","path","current","j","console","log","Table","useState","setTab","refs","setRefs","wallPut","setWallPut","down","setDown","Cell","props","color","setColor","useImperativeHandle","reff","changeColor","timer","setInterval","clearTimeout","animationDelay","ref","onMouseEnter","index","className","styles","divstyle","style","backgroundColor","keyit","createCellTab","tmp","top","left","cellColor","zindex","pos","x","y","elRefs","Array","fill","map","_","React","createRef","a","bfs","delay","split","parseInt","reverse","useEffect","type","onClick","onMouseDown","onMouseUp","position","item","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.4c82348d.chunk.js","sourcesContent":["function breathFrist(tab) {\n\n    return new Promise ((resolve, reject) => { \n        let queue = []\n        let visited = []\n        let visitedPrev= {}\n\n        queue.push({row:10, col: 15})\n        visited.push(\"10x15\")\n\n        while(queue.length > 0) {\n\n            const {row, col} = queue.shift()        \n            \n            if (row === 10 && col === 50)\n                break\n\n            const neighbors = [\n                { row: row - 1, col},\n                { row, col: col + 1},\n                { row: row + 1, col},\n                { row, col: col - 1}\n            ]\n\n            for (let i = 0; i < 4; i++) {\n                const nRow = neighbors[i].row\n                const nCol = neighbors[i].col\n\n                const key = `${nRow}x${nCol}`\n\n                if (nRow >= 20 || nRow < 0 || nCol >= 70 || nCol < 0)\n                    continue\n                if (!(visited.includes(key)) && tab[70 * nRow + nCol].state !== 'wall') {\n                    queue.push({row: nRow, col: nCol})\n                    visited.push(key)\n                    visitedPrev[key] = `${row}x${col}`\n                }\n            }\n            if (queue.length > 2000)\n                break\n        }\n        const path = []\n        let tofind = \"10x15\"\n        let current = \"10x50\"\n        let j = 0\n        do {\n            path.push(current)\n            current = visitedPrev[current]\n            j++\n            if (j > 1500) {\n                console.log(\"no path\")\n                resolve(null)\n                return\n            }\n        } while (tofind !== current)\n        path.push(current)\n        console.log(\"resolving\")\n        resolve([path, visited])\n    })\n}\n\nexport default breathFrist;","import React, {useEffect, useState, useImperativeHandle} from 'react';\nimport breathFrist from './breathFirst'\nimport styles from \"./tablecss.module.css\"\n\nfunction Table() {\n\n    const [tab, setTab] = useState([])\n    const [refs, setRefs] = useState([])\n    const [wallPut, setWallPut] = useState(false)\n    const [down, setDown] = useState(false)\n\n    // const [, updateState] = React.useState();\n    // const forceUpdate = React.useCallback(() => updateState({}), []);\n\n    //////////////////\n    // Create CELL //\n    ////////////////\n    function Cell(props) {\n\n        const [color, setColor] = useState(props.color)\n\n        function changeState() {\n            if (down && wallPut && props.index !== 715 && props.index !== 750) {\n                tab[props.index].color = \"#000000ff\"\n                tab[props.index].state = \"wall\"\n                setColor(\"#000000ff\")\n            }\n        }\n\n        useImperativeHandle(props.reff, () => ({\n\n            changeColor(color) {\n                let timer = setInterval(() => {\n                    setColor(color)\n                    clearTimeout(timer)\n                }, props.animationDelay)\n                \n                \n            }        \n        }));\n\n        return <div ref={props.reff} onMouseEnter={changeState} className={styles.divstyle} style={{...props.style, ...{backgroundColor: color}}} key={props.keyit} ></div>\n    }\n\n\n    useEffect(() => {\n        createCellTab()\n    } , [])\n\n    function pulWalls() {\n        if (wallPut === false) {\n            setWallPut(true)\n        } else {\n            setWallPut(false)\n        }\n    }\n\n    function createCellTab() {\n        let tmp = []\n        let top = 0\n        let left = 0\n\n        let cellColor = \"#ffffffff\"\n        for (let i = 0; i < 20; i++) {\n            for (let j = 0; j < 70; j++) {\n\n                if (i === 10 && j === 15) {\n                    cellColor = \"#cc1616ff\"\n                }\n                else if (i === 10 && j === 50) {\n                    cellColor = \"#cc8f16ff\"\n                }\n                else {\n                    cellColor = \"#ffffffff\"\n                }\n                tmp.push({\n                    style:{ top: top,left: left, zindex: 1},\n                    keyit:`t-${i}-${j}`,\n                    animationDelay : 0,\n                    pos: {x: i, y: j},\n                    color: cellColor,\n                    state: \"blanc\",\n                }\n                )\n                left += 25\n            }\n            left = 0\n            top += 25\n        }\n        setRefs(elRefs => (Array(20*70).fill().map((_, i) => elRefs[i] || React.createRef())));\n        setTab(tmp)\n    }\n\n    async function findPath() {\n        let bfs = await breathFrist(tab)\n        let path = bfs[0]\n        let visited = bfs[1]\n        let delay = 2000\n\n        for (let i = 0; visited[i]; i++) {\n            if (visited[i] !== \"10x15\" && visited[i] !== \"10x50\") {\n                let current = visited[i].split('x')\n                let nRow = parseInt(current[0])\n                let nCol = parseInt(current[1])\n                delay += 2000\n                tab[70 * nRow + nCol].animationDelay = delay\n                refs[70 * nRow + nCol].current.changeColor(\"#345ad9ff\")\n            }\n            \n        }\n\n        delay += 20000\n        path = path.reverse()\n        for(let i = 0; path[i]; i++) {\n            if (path[i] !== \"10x15\" && path[i] !== \"10x50\") {\n                let current = path[i].split('x')\n                let nRow = parseInt(current[0])\n                let nCol = parseInt(current[1])\n                delay += 2000\n                tab[70 * nRow + nCol].animationDelay = delay\n                refs[70 * nRow + nCol].current.changeColor(\"#39bd2dff\")\n            }\n        }\n    }\n\n    return (\n        <div>\n            <button type=\"button\" onClick={pulWalls}>Add Walls</button>\n            <button type=\"button\" onClick={findPath} >Find path</button>\n            <button type=\"button\" onClick={createCellTab} >reset</button>\n            <div onMouseDown={()=> setDown(true)} onMouseUp={()=> setDown(false)} style={{position: \"absolute\"}}>\n                {\n                    tab.map((item, index) => {\n                        return (\n                            <Cell reff={refs[index]} key={item.keyit} style={item.style} pos={item.pos} state={item.state} index={index} color={item.color}/>\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Table;","import Table from \"./component/table\"\nimport React from 'react';\n\nfunction App() {\n\n  return (\n      <Table/> \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divstyle\":\"tablecss_divstyle__16Ixq\"};"],"sourceRoot":""}